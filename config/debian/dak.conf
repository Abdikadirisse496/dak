Dinstall
{
   GPGKeyring {
      "/srv/keyring.debian.org/keyrings/debian-keyring.gpg";
      "/srv/keyring.debian.org/keyrings/debian-maintainers.gpg";
   };
   SigningKeyring "/srv/ftp-master.debian.org/s3kr1t/dot-gnupg/secring.gpg";
   SigningPubKeyring "/srv/ftp-master.debian.org/s3kr1t/dot-gnupg/pubring.gpg";
   SigningKeyIds "55BE302B";
//   SendmailCommand "/usr/sbin/sendmail -odq -oi -t -f envelope@ftp-master.debian.org";
   SendmailCommand "/usr/sbin/sendmail -oi -t -f envelope@ftp-master.debian.org";
   MyEmailAddress "Archive Administrator <installer@ftp-master.debian.org>";
   MyAdminAddress "ftpmaster@debian.org";
   MyHost "debian.org";  // used for generating user@my_host addresses in e.g. manual_reject()
   MyDistribution "Debian"; // Used in emails
   BugServer "bugs.debian.org";
   PackagesServer "packages.debian.org";
   TrackingServer "packages.qa.debian.org";
   LockFile "/srv/ftp-master.debian.org/lock/dinstall.lock";
   Bcc "archive@ftp-master.debian.org";
   FutureTimeTravelGrace 28800; // 8 hours
   PastCutoffYear "1984";
   SkipTime 300;
   BXANotify "true";
   CloseBugs "true";
   OverrideDisparityCheck "true";
   DefaultSuite "unstable";
   LintianTags "/srv/ftp-master.debian.org/dak/config/debian/lintian.tags";
   QueueBuildSuites
   {
     unstable;
   };
   Reject
   {
     NoSourceOnly "true";
     ReleaseTransitions "/srv/ftp.debian.org/web/transitions.yaml";
   };
   // if you setup an own dak repository and want to upload Debian packages you most possibly want
   // to set the following option to a real path/filename and then enter those mail addresses that
   // you want to be able to receive mails generated by your dak installation. This avoids spamming
   // the real maintainers of a package you upload with mail.
   // format of entries: one entry per line. Either an email address directly, or a regular expression,
   // prefixed by "RE:". Examples: "jane.doe@domain.com" or "RE:jane[^@]@domain.com", where the first will
   // only allow to mail jane.doe@domain.com while the second will mail all of jane*@domain.com
   //  MailWhiteList "/some/path/to/a/file";
};

Transitions
{
   Notifications "debian-devel@lists.debian.org";
};

Generate-Index-Diffs
{
   Options
   {
     TempDir "/srv/ftp-master.debian.org/tiffani";
     MaxDiffs { Default 14; };
   };
};

Override
{
   MyEmailAddress "Debian FTP Masters <ftpmaster@ftp-master.debian.org>";
};

Show-New
{
  HTMLPath "/srv/ftp.debian.org/web/new/";
}

Show-Deferred
{
  LinkPath "/srv/ftp.debian.org/web/deferred/";
  DeferredQueue "/srv/upload.debian.org/DEFERRED/";
}

Import-Users-From-Passwd
{
  ValidGID "800";
  // Comma separated list of users who are in Postgres but not the passwd file
  KnownPostgres "postgres,dak,katie,release,qa,www-data,guest";
};

Clean-Queues
{
  Options
  {
    Days 14;
   };
 MorgueSubDir "queues";
};

Control-Overrides
{
  Options
  {
    Component "main";
    Suite "unstable";
    Type "deb";
   };

 ComponentPosition "prefix"; // Whether the component is prepended or appended to the section name
};

Rm
{
  Options
  {
    Suite "unstable";
   };

   MyEmailAddress "Debian Archive Maintenance <ftpmaster@ftp-master.debian.org>";
   LogFile "/srv/ftp.debian.org/web/removals.txt";
   LogFile822 "/srv/ftp.debian.org/web/removals.822";
   Bcc "removed-packages@qa.debian.org";
};

Import-Archive
{
  ExportDir "/srv/ftp-master.debian.org/dak/import-archive-files/";
};

Import-Keyring
{
  /srv/keyring.debian.org/keyrings/debian-maintainers.gpg
    {
      Debian-Maintainer "true";
    };
};

Reject-Proposed-Updates
{
   StableRejector "the Stable Release Team";
   StableMail "debian-release@lists.debian.org";
   MoreInfoURL "http://release.debian.org/stable/4.0/4.0r7/";
};

Import-LDAP-Fingerprints
{
  LDAPDn "ou=users,dc=debian,dc=org";
  LDAPServer "db.debian.org";
  ExtraKeyrings
  {
    "/srv/keyring.debian.org/keyrings/removed-keys.pgp";
    "/srv/keyring.debian.org/keyrings/removed-keys.gpg";
    "/srv/keyring.debian.org/keyrings/extra-keys.pgp";
  };
  KeyServer "wwwkeys.eu.pgp.net";
};

Clean-Suites
{
  // How long (in seconds) dead packages are left before being killed
  StayOfExecution 129600; // 1.5 days
  QueueBuildStayOfExecution 86400; // 24 hours
  MorgueSubDir "pool";
};

Process-New
{
  DinstallLockFile "/srv/ftp-master.debian.org/lock/processnew.lock";
  LockDir "/srv/ftp-master.debian.org/lock/new/";
};

Check-Overrides
{
  OverrideSuites
  {
    Stable
    {
      Process "0";
    };

    Testing
    {
      Process "1";
      OriginSuite "Unstable";
    };

    Unstable
    {
      Process "1";
    };
  };
};

Suite
{
  Stable
  {
	Components
	{
	  main;
	  contrib;
	  non-free;
	};
  };

  Proposed-Updates
  {
	Components
	{
	  main;
	  contrib;
	  non-free;
	};
	CopyChanges "dists/proposed-updates/";
	CommentsDir "/srv/ftp-master.debian.org/queue/p-u-new/COMMENTS/";
	OverrideSuite "stable";
	ValidTime 604800; // 7 days
	VersionChecks
	{
	  MustBeNewerThan
	  {
	    OldStable;
	    Stable;
	  };
//	  MustBeOlderThan
//	  {
//	    Testing;
//	    Unstable;
//	    Experimental;
//	  };
	  Enhances
          {
	    Stable;
	  };
	};
  };

  Testing
  {
	Components
	{
	  main;
	  contrib;
	  non-free;
	};
	ValidTime 604800; // 7 days
  };

  Testing-Proposed-Updates
  {
	Components
	{
	  main;
	  contrib;
	  non-free;
	};
	OverrideSuite "testing";
	ValidTime 604800; // 7 days
	VersionChecks
	{
	  MustBeNewerThan
	  {
	    OldStable;
	    Stable;
//	    Proposed-Updates;
	    Testing;
	  };
	  MustBeOlderThan
	  {
	    Unstable;
	    Experimental;
	  };
	  Enhances
          {
	    Testing;
          };
	};
  };

  Squeeze-Volatile
  {
	Components
	{
	  main;
	  contrib;
	  non-free;
	};
	OverrideSuite "testing";
	ValidTime 604800; // 7 days
	VersionChecks
	{
	  MustBeNewerThan
	  {
	    Stable;
	    Testing;
	  };
	  Enhances
      {
	    Testing;
	  };
	};

  };

  Unstable
  {
	Components
	{
	  main;
	  contrib;
	  non-free;
	};
	ValidTime 604800; // 7 days
	VersionChecks
	{
	  MustBeNewerThan
	  {
	    OldStable;
	    Stable;
//	    Proposed-Updates;
	    Testing;
	    Testing-Proposed-Updates;
	  };
	};
  };

  Experimental
  {
	Components
	{
	  main;
	  contrib;
	  non-free;
	};
	OverrideSuite "unstable";
	ValidTime 604800; // 7 days
	VersionChecks
	{
	  MustBeNewerThan
	  {
	    OldStable;
	    Stable;
//	    Proposed-Updates;
	    Testing;
	    Testing-Proposed-Updates;
	    Unstable;
	  };
	};
  };

};

SuiteMappings
{
// "propup-version oldstable-security stable testing testing-proposed-updates unstable";
 "propup-version stable-security testing testing-proposed-updates unstable";
 "propup-version testing-security unstable";
 "map lenny stable";
 "map squeeze testing";
 "map sid unstable";
 "map rc-buggy experimental";
// "map oldstable oldstable-proposed-updates";
// "map oldstable-security oldstable-proposed-updates";
 "map stable proposed-updates";
 "map stable-security proposed-updates";
 "map stable-proposed-updates proposed-updates";
// "map-unreleased oldstable unstable";
 "map-unreleased stable unstable";
 "map-unreleased proposed-updates unstable";
 "map testing testing-proposed-updates";
 "map testing-security testing-proposed-updates";
 "map-unreleased testing unstable";
 "map-unreleased testing-proposed-updates unstable";
};

AutomaticByHandPackages {
  "debian-installer-images" {
    Source "debian-installer";
    Section "raw-installer";
    Extension "tar.gz";
    Script "/srv/ftp-master.debian.org/dak/scripts/debian/byhand-di";
  };

  "tag-overrides" {
    Source "tag-overrides";
    Section "byhand";
    Extension "tar.gz";
    Script "/srv/ftp-master.debian.org/dak/scripts/debian/byhand-tag";
  };

  "task-overrides" {
    Source "tasksel";
    Section "byhand";
    Extension "tar.gz";
    Script "/srv/ftp-master.debian.org/dak/scripts/debian/byhand-task";
  };
};

Dir
{
  Root "/srv/ftp-master.debian.org/ftp/";
  Pool "/srv/ftp-master.debian.org/ftp/pool/";
  Templates "/srv/ftp-master.debian.org/dak/templates/";
  PoolRoot "pool/";
  Lists "/srv/ftp-master.debian.org/database/dists/";
  Cache "/srv/ftp-master.debian.org/database/";
  Log "/srv/ftp-master.debian.org/log/";
  Lock "/srv/ftp-master.debian.org/lock";
  Morgue "/srv/ftp-master.debian.org/morgue/";
  MorgueReject "reject";
  Override "/srv/ftp-master.debian.org/scripts/override/";
  QueueBuild "/srv/incoming.debian.org/buildd/";
  UrgencyLog "/srv/release.debian.org/britney/input/urgencies/";
  TempPath "/srv/ftp-master.debian.org/tmp/";
  Queue
  {
    Byhand "/srv/ftp-master.debian.org/queue/byhand/";
    ProposedUpdates "/srv/ftp-master.debian.org/queue/p-u-new/";
    OldProposedUpdates "/srv/ftp-master.debian.org/queue/o-p-u-new/";
    ProposedUpdates "/srv/ftp-master.debian.org/queue/p-u-new/";
    Done "/srv/ftp-master.debian.org/queue/done/";
    Holding "/srv/ftp-master.debian.org/queue/holding/";
    New "/srv/ftp-master.debian.org/queue/new/";
    Reject "/srv/ftp-master.debian.org/queue/reject/";
    Unchecked "/srv/ftp-master.debian.org/queue/unchecked/";
    Newstage "/srv/ftp-master.debian.org/queue/newstage/";
    BTSVersionTrack "/srv/ftp-master.debian.org/queue/bts_version_track/";
    Embargoed "/does/not/exist/";
    Unembargoed "/does/not/exist/";
    Disembargo "/does/not/exist/";
  };
};

Queue-Report
{
  ReportLocations
  {
    822Location "/srv/ftp.debian.org/web/new.822";
  };
};

DB
{
  Name "projectb";
  Host "";
  Port 5433;
};

Architectures
{
  source "Source";
  all "Architecture Independent";
  alpha "DEC Alpha";
  hurd-i386 "Intel ia32 running the HURD";
  hppa "HP PA RISC";
  amd64 "AMD64";
  arm "ARM";
  armel "ARM eabi";
  i386 "Intel ia32";
  ia64 "Intel ia64";
  mips "MIPS (Big Endian)";
  mipsel "MIPS (Little Endian)";
  powerpc "PowerPC";
  s390 "IBM S/390";
  sparc "Sun SPARC/UltraSPARC";
  kfreebsd-i386 "GNU/kFreeBSD i386";
  kfreebsd-amd64 "GNU/kFreeBSD amd64";
};

Archive
{
  ftp-master
  {
    OriginServer "ftp-master.debian.org";
    PrimaryMirror "ftp.debian.org";
    Description "Master Archive for the Debian project";
  };
};

Component
{
  main
  {
	Description "Main";
	MeetsDFSG "true";
  };

  contrib
  {
	Description "Contrib";
	MeetsDFSG "true";
  };

  non-free
  {
	Description "Software that fails to meet the DFSG";
	MeetsDFSG "false";
  };
};

Section
{
  admin;
  cli-mono;
  comm;
  database;
  debian-installer;
  debug;
  devel;
  doc;
  editors;
  embedded;
  electronics;
  fonts;
  games;
  gnome;
  graphics;
  gnu-r;
  gnustep;
  hamradio;
  haskell;
  httpd;
  interpreters;
  java;
  kde;
  kernel;
  libdevel;
  libs;
  lisp;
  localization;
  mail;
  math;
  misc;
  net;
  news;
  ocaml;
  oldlibs;
  otherosfs;
  perl;
  php;
  python;
  ruby;
  science;
  shells;
  sound;
  tex;
  text;
  utils;
  web;
  vcs;
  video;
  x11;
  xfce;
  zope;
};

Priority
{
  required 1;
  important 2;
  standard 3;
  optional 4;
  extra 5;
  source 0; // i.e. unused
};

OverrideType
{
  deb;
  udeb;
  dsc;
};

Location
{

  // Pool locations on ftp-master.debian.org
  /srv/ftp-master.debian.org/ftp/pool/
    {
      Archive "ftp-master";
      Type "pool";
    };

};

Urgency
{
  Default "low";
  Valid
  {
    low;
    medium;
    high;
    emergency;
    critical;
  };
};

Contents
{
  Header "contents";
  Root "/srv/ftp-master.debian.org/test/";
}

Common
{
  // The default number of threads for multithreading parts of dak:
  ThreadCount 16;
}

Changelogs
{
  Testing "/srv/release.debian.org/tools/trille/current-testing";
  Britney "/srv/ftp-master.debian.org/ftp/dists/testing/ChangeLog";
  Export "/srv/ftp-master.debian.org/export/changelogs";
}
