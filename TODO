To fix
======

Urgent
------
 
  o heidi should use transactions

  o heidi should read from stdin, then process

  o katie needs a stable_reject() which a) removes the package from
    p-u, b) doesn't remove the file from the pool, and c) (optionally, I
    guess) uses a template mail.

  o katie/jenna/rhona/whatever needs to clear out .changes
    files from p-u when removing stuff superseded by newer versions.

  o experimental needs to auto clean (relative to unstable)
  ['
   SELECT s.source, s.version AS experimental, s2.version AS unstable 
     FROM src_associations sa, source s, source s2, src_associations sa2 
     WHERE sa.suite = 1 AND sa2.suite = 5 AND sa.source = s.id 
       AND sa2.source = s2.id AND s.source = s2.source 
       AND versioncmp(s.version, s2.version) < 0;
  ']
  [ but, needs to hook into melanie ... ]
  [ and, err, fix the gay hardcoding of suites in rene ... ]

  o jenna doesn't handle arch: any -> arch: all transitions 
    [aj worked around; need to revisit]

  o direport misreports things as section 'devel'

  o rewrite shania to a) be sane, b) clean REJECT properly
    (i.e. ignore the fact that stuff is in a valid .changes file and
    just clean the mofo)

  o maintainers file needs overrides  
 
    [ change override.maintainer to override.maintainer-from +
      override.maintainer-to and have them reference the maintainers
      table.  Then fix charisma to use them and write some scripting
      to handle the Santiago situation. ]

  o Add urgency + installed date to the DB for aj/testing (? still needed ?)

  o Enforce NMU and bin-only NMU versioning schemes

  o Revisit linking of binary->source in install() in katie.

  o debian/* assumes arch: all but sql-aptvc.o isn't arch: all.

  o jt's web stuff, matt's changelog stuff (overlap)

Less Urgent
-----------

 o doogie's binary -> source index

 o ANIAS should be done in katie ?
 
 o natalie doesn't warn when lisitng invalid components!

 o run apt-ftparchive clean <conf file> weekly [culus sucks]

 o purge older stuff from non-free/contrib so that testing and stuff works

 o when dinstall is run in install mode but not as a cron job, it
   should probably run jenna to avoid madison originated user confusion

 o check for empty debs; check for empty (or small (<1k ?)) .tar.gz's.

 o validate email addresses ?  harsh to reject tho [errge]

 o validate source consistency, i.e. .dsc and .tar.gz as minimum

 o Rene doesn't look at debian-installer but should.

 o Rene also doesn't seem to warn about missing binary packages?

 o cron.daily* should change umask (aj sucks)
 
 o override checks sucks; it needs to track changes made by the
   maintainer and pass them onto ftpmaster instead of warning the
   maintainer.

 o Don't do override checks for stable only uploads

 o katie should validate multi-suite uploads; only possible valid one
   is "stable unstable" [but see d-policy@l.d.o]

 o need to have process_it run a big try: loop so that individual
    package screws up don't kill the daily cron run.

 o Add an 'add' ability to melanie (? separate prog maybe)
 o [Hard] Need to merge non-non-US and non-US DBs.
 o [Easy] Need to vacuum daily
 o [Easy] remove empty directories in the pool in cron.weekly or so

 o need to do proper rfc822 escaping of from lines (as opposed to s/\.//g)

 o Fix dinstall to remove != stable on stable install, not just f + u
 o Fix 'mixed' component handling (?)
 o Fix component handling in overrides (aj)
 o Fix lack of entires in source overrides (aj)
 o Fix rhona to unconditionally read override file on startup
 o Fix dinstall to warn if not in incoming or p-u
 o db_access' get_files needs to use exceptions not this None, > 0, < 0 return val BS (?)
 o check errors on apt_pkg calls (?)
 o The untouchable flag doesn't stop adding new packages
 o jenna needs to validate arguments (?)
 o jenna is too damn slow

===================================================================================================

TODO
====

Packaging
---------

  o Install python libraries (db_access and utils)
  o Install config file
  o Fix stuff to look in sensible places for libs and config file in debian package (?)
  o man pages and/or documentation

Urgent
------

  o Secure incoming handling
  o [Hard] dependency checking
  o Need log files for jenna, rhona and katie.

Less Urgent
-----------

  o Do a checkpc(1)-a-like which sanitizes a config files.
  o fix parse_changes()/build_file_list() to sanity check filenames
  o saftey check and/or rename debs so they match what they should be

  o Enable catherine (when daily mirror hit drops down below 300Mb maybe..)
  o Improve andrea.
  o Need to optimize all the queries by using EXAMINE and building some INDEXs.
  o Need to enclose all the setting SQL stuff in transactions (mostly done).
  o Need to finish alyson (a way to sync katie.conf and the DB)
  o Need the ability to rebuild all other tables from dists _or_ pools (in the event of disaster) (?)
  o Make the --help and --version options do stuff for all scripts
  o Need to check for .dsc when source is mentioned

  o charisma can't handle whitespace-only lines (for the moment, this is feature)
  o Should use $EDITOR, not hardcode vi
  o Should reject packages with bad timestamps
  o Replicate old dinstall report stuff (? needed ?)
  o Handle the case of 1:1.1 which would overwrite 1.1 (?)
  o aj's binary-all stuff (foo-doc depending on foo) (?)
  o heidi should report suite name not ID [aj]

  o fubar and warn/error wrappers like in C (?)
  o generic way of saying isabinary and isadsc. (?)
  o substitution stuff (cf. userdir-ldap) for announce, reject etc.

  o s/distribution/suite/g

===================================================================================================

23:12|<aj> I will not hush!
23:12|<elmo> :>
23:12|<aj> Where there is injustice in the world, I shall be there!
23:13|<aj> I shall not be silenced!
23:13|<aj> The world shall know!
23:13|<aj> The world *must* know!
23:13|<elmo> oh dear, he's gone back to powerpuff girls... ;-)
23:13|<aj> yay powerpuff girls!!
23:13|<aj> buttercup's my favourite, who's yours?
23:14|<aj> you're backing away from the keyboard right now aren't you?
23:14|<aj> *AREN'T YOU*?!
23:15|<aj> I will not be treated like this.
23:15|<aj> I shall have my revenge.
23:15|<aj> I SHALL!!!

